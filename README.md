Энэ нээлттэй системийн эх хувилбар [http://github.com/khaschuluu/gtree](gtree) дээр байгаа.

Gtree-д тавтай морил
====================

Gtree бол Монголын гитар сонирхогчдын нээлттэй бүлгэм ба бидний сайт болох gtree.mn гитар таб, кордын нэгдсэн сан бүрдүүлэх зорилготойгоор энд нээлттэй хөгжүүлэгдэж байна. Нээлттэй учир та ч гэсэн бидэнтэй нэгдэж, хамт хөгжүүлэлцэж болно шүү.

Сайт нь social механизмыг ашиглан хэн ч нээлттэйгээр хүссэн гитар таб, кордоо оруулах, түүнийгээ түгээх, найз нөхөдтэйгөө нийлж нөгжүүлэх, үүсгэх, засварлах гэх зэрэг боломжуудаар хангахыг зорьж байна.

Ашигласан системүүд
-------------------

* [Ruby (programming language)](http://wiki.limnux.net/wiki/Ruby)
* [Ruby on Rails (web app framework on ruby)](http://wiki.limnux.net/wiki/Ruby_on_Rails)
* Mongrel (server)
* MySQL (database)
* Blueprint (CSS framework)

Github-тай холбох
-----------------

Github-ын талаар монгол хэл дээрх гарын авлагыг [http://wiki.limnux.net/wiki/Github](http://wiki.limnux.net/wiki/Github) хаягаас авна уу.

Энэ системийг өөрийн сервер, үгүй бол тооцоолуур дээрээ ажиллуулахын тулд эхлээд энэ (http://github.com/khaschuluu/gtree)[gtree] агуулгаа тооцоолууртаа холбох хэрэгтэй. Ингэхийн тулд Github-ын гарын авлагын дагуу энэ агуулгыг [fork](http://github.com/xacaa/gtree/fork) хийнэ. Түүнийхээ дараа terminal нээгээд:

    $ mkdir gtree
    $ cd gtree
    $ git init
    $ git remote add origin git@github.com:USER_NAME/gtree.git
    $ git pull origin master

Ийнхүү зөв холбосон бол `$ ls` тушаалын үр дүнд агуулах харагдах ёстой. Ингээд ажиллуулах алхамыг хийцгээе.

Татаж авах
----------

Заавал github-тай холбохгүйгээр зүгээр л татаж аваад ажиллуулах боломжтой. Анхааруулж хэлэхэд дээрх Github-тай холбох гэсэн зааврыг зөв дагасан бол таны тооцоолуур дээр ааль хэдийн хуулагдсан байх тул энэ зааврыг дагах шаардлагагүй.

Git clone ашиглаж татах:
Хэрвээ та git татсан бол шууд git репог клон хийж татаж авах боломжтой ба энэ үед тухайн репогийн гол мөчрийн хамгийн сүүлийн өөрчлөлтүүд татагдах болно.

    $ git clone git://github.com/khaschuluu/gtree.git
    
Энэ үйлдлийн дараа хэсэг уншиж татаж авсаны эцэст таны тухайн хавтсанд gtree нэртэй хавтас үүссэн байх болно.

Татаж авах:
Соорсыг нь татаж аваад ажиллуулж болно. Энэ нь заавал git хөгжүүлэлтэнд оролцох албагүй, мөн git суулгаагүй ч юм уу, мөн зүгээр л соорсыг нь татаж авах гэж байгаа үед тохиромжтой.

Үүний тулд [http://github.com/khaschuluu/gtree/archives/master](http://github.com/khaschuluu/gtree/archives/master) хаягаас .tar юм уу .zip өргөтгөлтэй шахсан байдлаар татаж авч болно. Үүнийг та өөрийн ажлын хавтас дотор задлаж хэрэглэнэ. Тус тус харгалзан дараах байдлаар задлана:

    $ tar -xzvf khaschuluu-gtree-xxxxxxx.tar.gz

Харин .zip өргөтгөлөөр татсан бол юун түрүүнд тухайн шахсан файлыг задлах плагиныг суулгах хэрэгтэй:

    $ sudo aptitude install p7zip-full

Үүний дараа задлах

    $ unzip khaschuluu-gtree-xxxxxxx.zip

Ажиллуулах
----------

Ажиллуулахын тулд танд юуны түрүүнд дээрх Ашигласан системүүд сэдэв доторх бүх системүүд таны тооцоолуурт суусан байх шаардлагатай ба дараах алхмуудыг хийж хөрсийг бэлдэнэ.

### Бэлтгэх

Хэрэгцээт програмуудыг суулгах, хэрвээ суучихсан програм бол хэрэггүй. Мөн Ruby болон Ruby on Rails-ийг дээр заасан холбоосоор орж гарын авлагатай танилцаж, сулугах зааврын дагуу суулгана уу. Харин одоо terminal-аа нээгээд:

    $ sudo apt-get install mysql
    $ gem install mongrel

Мөн config/environment.rb файл дотор authlogic хэмээх нэвтрэлтийн нэмэлт багц зарласан ба үүнийг суулгахдаа:

    $ sudo rake gems:install

### Өгөгдлийн сан холбох

Үндсэн хөрс энд хүрээд бэлтгэгдэх ба одоо тохиргоонуудыг хийнэ.
Хамгийн түрүүнд бааз болон log файлуудыг тохируулна. Энэ нь тухайн серверийн нууцлалын асуудал бөгөөд энэ файлаа тэр чигээр нь оруулбал алдаа болно. Зөв тохируулсаныхаа дараа тухайн файл болон хавтсуудаа [.gitignore](http://wiki.limnux.net/wiki/Git#.gitignore) ашиглан git-ээсээ нууна уу.

    $ cd repo_folder_name/ # for example: cd gtree/
    $ cp config/database.yml.conf config/database.yml
    $ cp -r _log/ log/

Үүний дараа config/database.yml файлыг нээж development хэсгийн хамгийн доод талын хоёр мөрийг дараах байдлаар өөрчлөнө:

    password: [энд mysql-ийн root нууц үг байна]
    host: localhost

За одоо баазаа үүсгэх ба дараах мөрийг terminal дээр өгнө:

    $ rake db:create RAILS_ENV='development'
    $ rake db:migrate

Хэрвээ энэ командын дараа MySQL ажиллахгүй байна гэсэн алдаа өгвөл

    $ gem install mysql
    $ sudo apt-get install libmysqlclient5-dev

### Ажиллуулж үзэх

Одоо бүх зүйл бэлэн болсон болохоор ажиллуулна:

    $ ruby script/server

Ингээд өөрийн `http://localhost:3000` гээд ороод үз дэ. Хэрвээ бүх зүйл ном ёсоор болсон бол Gtree сайт маань ажиллаж байх болно.
